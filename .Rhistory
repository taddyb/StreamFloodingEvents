plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
##############################
# ----- Wappingers Data -----
##############################
# install.packages("readxl")
# install.packages("tidyverse")
library(readxl)
library(tidyverse)
data_2017 = read_excel(path="data/2017Data.xlsx")
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
data_2017 = readxl(path="data/2017Data.xlsx")
##############################
# ----- Wappingers Data -----
##############################
# install.packages("tidyverse")
library(tidyverse)
data_2017 = read_excel(path="data/2017Data.xlsx")
data_2017
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
data_2017 %>% ggplot(aes(Date, `Discharge (ft^3/s)`)) +
geom_line()
data_2017 %>% ggplot(aes(Date, `Discharge (ft^3/s)`), group=1) +
geom_line()
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
plot(data$Date,data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
plot(data$Date,data_2017$`Discharge (ft^3/s)`)
plot(data$Date, data_2017$`Discharge (ft^3/s)`)
plot(data_2017$Date,data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
data_2017 = read_excel(path="data/2017Data.xlsx")
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
data_2017 = read_excel(path="data/2017Data.xlsx")
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
grid()
plot(pSignal, type="l", col="navy")
# Example of findpeaks
x <- seq(0, 1, len = 1024)
pos <- c(0.1, 0.13, 0.15, 0.23, 0.25, 0.40, 0.44, 0.65, 0.76, 0.78, 0.81)
hgt <- c(4, 5, 3, 4, 5, 4.2, 2.1, 4.3, 3.1, 5.1, 4.2)
wdt <- c(0.005, 0.005, 0.006, 0.01, 0.01, 0.03, 0.01, 0.01, 0.005, 0.008, 0.005)
pSignal <- numeric(length(x))
for (i in seq(along=pos)) {
pSignal <- pSignal + hgt[i]/(1 + abs((x - pos[i])/wdt[i]))^4
}
plot(pSignal, type="l", col="navy")
grid()
x <- findpeaks(pSignal, sortstr=TRUE)
points(x[, 2], x[, 1], pch=20, col="maroon")
points( pch=20, col="maroon")
x
plot(pSignal, type="l", col="navy")
grid()
x <- findpeaks(pSignal, sortstr=TRUE)
points(x[, 2], x[, 1], pch=20, col="maroon")
# install.packages("pracma")
library(pracma)
plot(pSignal, type="l", col="navy")
grid()
x <- findpeaks(pSignal, sortstr=TRUE)
points(x[, 2], x[, 1], pch=20, col="maroon")
x
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
grid()
start_time <- Sys.time()
x <- findpeaks(pSignal, sortstr=TRUE)
end_time <- Sys.time()
points(x[, 2], x[, 1], pch=20, col="maroon")
x
pSignal
dataList_2017 = unlist(data_2017$`Discharge (ft^3/s)`)
dataList_2017
data_2017 = read_excel(path="data/2017Data.xlsx")
plot(data_2017$`Discharge (ft^3/s)`, type="l", col="navy")
dataList_2017 = unlist(data_2017$`Discharge (ft^3/s)`)
plot(dataList_2017, type="l", col="navy")
grid()
start_time <- Sys.time()
x <- findpeaks(dataList_2017, sortstr=TRUE)
end_time <- Sys.time()
points(x[, 2], x[, 1], pch=20, col="maroon")
end_time - start_time
x <- findpeaks(dataList_2017, sortstr=TRUE)
plot(dataList_2017, type="l", col="navy")
start_time <- Sys.time()
for(i in 1:29){
x <- findpeaks(dataList_2017, sortstr=TRUE)
}
end_time <- Sys.time()
end_time - start_time
start_time <- Sys.time()
for(i in 1:29){
x <- findpeaks(dataList_2017, sortstr=TRUE)
}
end_time <- Sys.time()
end_time - start_time
start_time <- Sys.time()
for(i in 1:29){
x <- findpeaks(dataList_2017, sortstr=TRUE)
}
start_time <- Sys.time()
for(i in 1:29){
x <- findpeaks(dataList_2017, sortstr=TRUE)
}
end_time <- Sys.time()
points(x[, 2], x[, 1], pch=20, col="maroon")
end_time - start_time
x
sd(dataList_2017)
sd = sd(dataList_2017)
mean = mean(dataList_2017)
sd = sd(dataList_2017)
x <- findpeaks(dataList_2017, sortstr=TRUE, minpeakheight =(mean + sd))
points(x[, 2], x[, 1], pch=20, col="maroon")
plot(dataList_2017, type="l", col="navy")
x <- findpeaks(dataList_2017, sortstr=TRUE, minpeakheight =(mean + sd))
points(x[, 2], x[, 1], pch=20, col="maroon")
x <- findpeaks(dataList_2017, sortstr=TRUE,npeaks=3)
plot(dataList_2017, type="l", col="navy")
c
points(x[, 2], x[, 1], pch=20, col="maroon")
# install.packages("pracma")
install.packages("biosignalEMG v2.0.0")
# install.packages("pracma")
install.packages("biosignalEMG")
library(biosignalEMG)
dataPass = highpass(dataList_2017)
# install.packages("pracma")
install.packages("signal")
install.packages("signal")
# install.packages("pracma")
# install.packages("signal")
library(pracma)
library(signal)
##############################
# ----- Wappingers Data -----
##############################
# install.packages("readxl")
# install.packages("tidyverse")
library(readxl)
library(tidyverse)
t <- seq(0, 1, len = 100) # 1 second sample
x <- sin(2*pi*t*2.3) + 0.25*rnorm(length(t)) # 2.3 Hz sinusoid+noise
z <- fftfilt(rep(1, 10)/10, x) # apply 10-point averaging filter
plot(t, x, type = "l")
lines(t, z, col = "red")
rep(1, 10)/10
z <- fftfilt(rep(1, 10)/10, dataList_2017) # apply 10-point averaging filter
lines(t, z, col = "red")
lines(z, col = "red")
plot(z, type = "l")
z <- fftfilt(rep(1, 10)/10, dataList_2017) # apply 10-point averaging filter
rep(1, 10)
plot(z, type = "l")
lines(z, col = "red")
z <- fftfilt(rep(1, 10), dataList_2017) # apply 10-point averaging filter
plot(z, type = "l")
z <- fftfilt(4, dataList_2017) # apply 10-point averaging filter
plot(z, type = "l")
z <- fftfilt(100, dataList_2017) # apply 10-point averaging filter
plot(z, type = "l")
z <- fftfilt(.6, dataList_2017) # apply 10-point averaging filter
plot(z, type = "l")
x <- findpeaks(dataList_2017, sortstr=TRUE,npeaks=3)
plot(dataList_2017, type="l", col="navy")
points(x[, 2], x[, 1], pch=20, col="maroon")
